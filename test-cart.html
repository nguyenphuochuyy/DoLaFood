<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Cart Functionality</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/tintuc.css">
    
    <style>
        .test-section {
            border: 1px solid #ddd;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
        }
        .cart-dropdown {
            position: static !important;
            display: block !important;
            width: 100% !important;
            max-width: 400px;
            margin: 20px 0;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 20px;
        }
    </style>
</head>
<body>
    <div class="container mt-4">
        <h1>üß™ Test Cart Functionality</h1>
        
        <!-- Cart Display -->
        <div class="test-section">
            <h3>Gi·ªè h√†ng (Cart Count: <span class="cart-count">0</span>)</h3>
            
            <div class="cart-dropdown">
                <!-- Cart Header -->
                <div class="cart-header">
                    <div class="delivery-text">
                        <span>Giao h√†ng</span>
                        <p>15-30 ph√∫t</p>
                    </div>
                </div>
                
                <!-- Cart Items Container -->
                <div class="cart-items">
                    <p class="empty-cart">Gi·ªè h√†ng tr·ªëng</p>
                </div>
                
                <!-- Cart Total -->
                <div class="cart-total">
                    <div class="total-row">
                        <span>T·ªïng ti·ªÅn:</span>
                        <span class="total-price">0ƒë</span>
                    </div>
                </div>
                
                <!-- Cart Actions -->
                <div class="cart-actions">
                    <button class="btn-checkout btn btn-success">Thanh to√°n</button>
                </div>
            </div>
        </div>
        
        <!-- Test Controls -->
        <div class="test-section">
            <h3>üéÆ Test Controls</h3>
            <div class="row">
                <div class="col-md-6">
                    <h5>Th√™m s·∫£n ph·∫©m:</h5>
                    <button class="btn btn-primary me-2" onclick="addProduct1()">G√† Gi√≤n (99k)</button>
                    <button class="btn btn-primary me-2" onclick="addProduct2()">Pizza (159k)</button>
                    <button class="btn btn-primary me-2" onclick="addProduct3()">Burger (79k)</button>
                </div>
                <div class="col-md-6">
                    <h5>ƒêi·ªÅu khi·ªÉn gi·ªè h√†ng:</h5>
                    <button class="btn btn-info me-2" onclick="showCartInfo()">Xem th√¥ng tin</button>
                    <button class="btn btn-warning me-2" onclick="clearAllCart()">X√≥a t·∫•t c·∫£</button>
                </div>
            </div>
        </div>
        
        <!-- Test Results -->
        <div class="test-section">
            <h3>üìä Test Results</h3>
            <div id="testResults" class="alert alert-info">
                K·∫øt qu·∫£ test s·∫Ω hi·ªÉn th·ªã ·ªü ƒë√¢y...
            </div>
        </div>
        
        <!-- Instructions -->
        <div class="test-section">
            <h3>üìù Test Instructions</h3>
            <ol>
                <li><strong>Test th√™m s·∫£n ph·∫©m:</strong> Click c√°c n√∫t "Th√™m s·∫£n ph·∫©m" v√† ki·ªÉm tra cart count</li>
                <li><strong>Test tƒÉng s·ªë l∆∞·ª£ng:</strong> Click n√∫t "+" trong gi·ªè h√†ng</li>
                <li><strong>Test gi·∫£m s·ªë l∆∞·ª£ng:</strong> Click n√∫t "-" trong gi·ªè h√†ng</li>
                <li><strong>Test x√≥a s·∫£n ph·∫©m:</strong> 
                    <ul>
                        <li>C√°ch 1: Click n√∫t "-" ƒë·∫øn khi quantity = 0</li>
                        <li>C√°ch 2: Click n√∫t "X√≥a"</li>
                    </ul>
                </li>
                <li><strong>Test t·ªïng ti·ªÅn:</strong> Ki·ªÉm tra t·ªïng ti·ªÅn c√≥ c·∫≠p nh·∫≠t ƒë√∫ng kh√¥ng</li>
                <li><strong>Test localStorage:</strong> Refresh trang v√† ki·ªÉm tra data c√≥ c√≤n kh√¥ng</li>
            </ol>
        </div>
    </div>

    <!-- Test Functions -->
    <script>
        function addProduct1() {
            ShoppingCart.addToCart({
                id: 'ga_gion_test',
                name: 'G√† Gi√≤n X·ªët T∆∞∆°ng T·ªèi',
                price: '99.000ƒë',
                unitPrice: 99000,
                quantity: 1,
                option: '3 mi·∫øng',
                notes: '',
                image: 'assets/images/pro1.webp'
            });
            updateTestResults('ƒê√£ th√™m G√† Gi√≤n v√†o gi·ªè h√†ng');
        }
        
        function addProduct2() {
            ShoppingCart.addToCart({
                id: 'pizza_test',
                name: 'Pizza √ù S·ªët B√≤ B·∫ßm',
                price: '159.000ƒë',
                unitPrice: 159000,
                quantity: 1,
                option: 'Size L',
                notes: '',
                image: 'assets/images/pro2.webp'
            });
            updateTestResults('ƒê√£ th√™m Pizza v√†o gi·ªè h√†ng');
        }
        
        function addProduct3() {
            ShoppingCart.addToCart({
                id: 'burger_test',
                name: 'Burger B√≤ Ph√¥ Mai',
                price: '79.000ƒë',
                unitPrice: 79000,
                quantity: 1,
                option: 'Combo set',
                notes: '',
                image: 'assets/images/pro3.webp'
            });
            updateTestResults('ƒê√£ th√™m Burger v√†o gi·ªè h√†ng');
        }
        
        function showCartInfo() {
            const cartInfo = ShoppingCart.getCartInfo();
            if (cartInfo) {
                const info = `
                    T·ªïng s·∫£n ph·∫©m: ${cartInfo.totalItems}
                    T·ªïng ti·ªÅn: ${cartInfo.totalPrice.toLocaleString('vi-VN')}ƒë
                    S·ªë lo·∫°i s·∫£n ph·∫©m: ${cartInfo.items.length}
                `;
                updateTestResults(info);
                console.log('Cart Info:', cartInfo);
            } else {
                updateTestResults('‚ùå Kh√¥ng th·ªÉ l·∫•y th√¥ng tin gi·ªè h√†ng');
            }
        }
        
        function clearAllCart() {
            if (window.cart) {
                window.cart.clearCart();
                updateTestResults('üóëÔ∏è ƒê√£ x√≥a to√†n b·ªô gi·ªè h√†ng');
            }
        }
        
        function updateTestResults(message) {
            const results = document.getElementById('testResults');
            const timestamp = new Date().toLocaleTimeString();
            results.innerHTML = `[${timestamp}] ${message}`;
        }
        
        // Test t·ª± ƒë·ªông khi trang load
        window.addEventListener('load', () => {
            setTimeout(() => {
                updateTestResults('‚úÖ Cart module ƒë√£ ƒë∆∞·ª£c kh·ªüi t·∫°o th√†nh c√¥ng');
            }, 1000);
        });
    </script>
    
    <!-- Load Cart Module -->
    <script src="assets/js/cart.js"></script>
    <script src="assets/js/main.js"></script>
</body>
</html> 